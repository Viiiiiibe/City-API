# City-API
### RESTful HTTP API, с помощью которого можно:

- добавлять/удалять в хранилище информацию о городах;
- запрашивать информацию о городах из хранилища;
- по заданным широте и долготе точки выдавать 2 ближайших к ней города из присутствующих в хранилище.

При запросе к API на добавление нового города клиент указывает только название города, а в хранилище добавляются также координаты города

## Запуск проекта
- Рядом с файлом .env.example разместить .env файл. Env переменные:
```
SECRET_KEY='some_secret_key'
OPENCAGE_API_KEY='some_secret_key'
```
- В основной папке установить и активировать виртуальное окружение
```console  
python -m venv venv
```
```console  
.\venv\Scripts\activate.bat
```

- Установить используемые библиотеки из файла requirements.txt
```console  
pip install -r requirements.txt
``` 
- В папке с файлом manage.py выполнить команду для миграций:
```console  
python manage.py migrate
```
- В папке с файлом manage.py выполнить команду для запуска локального сервера:
```console  
python manage.py runserver
```

## Функционал
- Добавление города:

POST 
```
http://127.0.0.1:8000/api/cities/
```

Тело запроса:
```
{
    "name": "Moscow"
}
```
- Удаление города:

DELETE
```
http://127.0.0.1:8000/api/cities/<int:pk>/
```
- Получение списка всех городов:

GET 
```
http://127.0.0.1:8000/api/cities/
```
- Получение ближайших городов по заданным широте и долготе:

GET 
```
http://127.0.0.1:8000/api/cities/nearest-cities/?latitude=55.7558&longitude=37.6176
```

